pipeline {
    agent any
    enviroment{
        PROJECT='devsecops-demo'
        AWS_Region='us-east-1'
    }
    
    stages{
        stage('Checkout'){
            steps{
                echo 'Checking out code...'
            }
        }
        stage('Build'){
            steps{
                echo 'Building the application...'
                sh 'echo "docker build. -t myapp:latest"'
            }
        }
        stage('Code Quality Scan'){
            steps{
                echo 'Running Trivy/Checkov Scan (placeholder)'
                //ADD  trivy/Checkov commands
            }
        }

        stage('Deploy'){
            steps{
                echo 'Deploying to kubernetes (placeholder)'
                //Add argocd or kubectl commands
            }
        }
    }
    post{
        always{
            echo 'Pipeline completed!'
        }
    }
    }